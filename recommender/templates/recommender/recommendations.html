{% extends 'recommender/base.html' %}

{% block title %}–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó{% endblock %}

{% block content %}
  <div class="container">
    <div class="row">
      <div class="col-md-8 mx-auto">
        <h2 class="text-center mb-4">üéµ –í–∞—à—ñ –º—É–∑–∏—á–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó</h2>

        {% if recommendations %}
          <div class="row">
            {% for track in recommendations %}
              <div class="col-md-6 mb-3">
                <div class="card h-100">
                  <div class="card-body">
                    <h5 class="card-title">{{ track.track_name }}</h5>
                    <p class="card-text">
                      <strong>–í–∏–∫–æ–Ω–∞–≤–µ—Ü—å:</strong> {{ track.artist_name }}<br>
                      <small class="text-muted">–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ: {{ track.recommended_at|date:"d.m.Y H:i" }}</small>
                    </p>
                  </div>
                  <div class="card-footer">
                    <a href="{{ track.spotify_url }}" target="_blank" class="btn btn-success btn-sm">
                      üéß –°–ª—É—Ö–∞—Ç–∏ –Ω–∞ Spotify
                    </a>
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>
        {% else %}
          <div class="text-center">
            <div class="alert alert-info" role="alert">
              <h4 class="alert-heading">–ù–µ–º–∞—î —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π</h4>
              <p>–ù–∞—Ä–∞–∑—ñ –Ω–µ–º–∞—î —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É –≤–ø–æ–¥–æ–±–∞–Ω—å, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–µ—Ä—à—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó.</p>
            </div>
          </div>
        {% endif %}
        
        <div class="text-center mt-4">
          <a href="{% url 'preferences' %}" class="btn btn-outline-primary">
            üîÑ –ó–º—ñ–Ω–∏—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
          </a>
        </div>
      </div>
    </div>
  </div>
{% endblock %}